{"version":3,"sources":["../node_modules/react-use/esm/useLocalStorage.js","components/table.js","../node_modules/react-use/esm/createBreakpoint.js"],"names":["noop","useLocalStorage","key","initialValue","options","isClient","Error","deserializer","raw","value","JSON","parse","_a","useState","serializer","String","stringify","localStorageValue","localStorage","getItem","setItem","state","setState","set","useCallback","valOrFunc","newState","remove","removeItem","undefined","Row","lazy","useBreakpoint","createBreakpoint","S","StateHeaderCell","React","memo","handleSort","sortData","statistic","breakpoint","t","useTranslation","className","onClick","sortColumn","classnames","invert","isAscending","size","title","capitalize","slice","prevProps","currProps","equal","FineprintTop","Fragment","to","style","color","data","regionHighlighted","setRegionHighlighted","setSortData","handleSortClick","produce","draftSortData","sortingFunction","stateCodeA","stateCodeB","statisticA","getStatistic","statisticB","localeCompare","useTrail","transform","opacity","config","wobbly","trail","tableElement","useRef","isVisible","useIsVisible","div","PRIMARY_STATISTICS","map","Object","keys","filter","stateCode","total","confirmed","sort","a","b","length","ref","districtName","breakpoints","laptopL","laptop","tablet","screen","setScreen","useEffect","setSideScreen","window","innerWidth","addEventListener","removeEventListener","sortedBreakpoints","useMemo","entries","reduce","acc","name","width"],"mappings":"+GAAA,mBAGIA,EAAO,aAkEIC,IAjEO,SAAUC,EAAKC,EAAcC,GAC/C,IAAKC,IACD,MAAO,CAACF,EAAcH,EAAMA,GAEhC,IAAKE,EACD,MAAM,IAAII,MAAM,wCAEpB,IAAIC,EAAeH,EAAWA,EAAQI,IAAM,SAAUC,GAAS,OAAOA,GAAWL,EAAQG,aAAgBG,KAAKC,MAC1GC,EAAKC,oBAAS,WACd,IACI,IAAIC,EAAaV,EAAWA,EAAQI,IAAMO,OAASX,EAAQU,WAAcJ,KAAKM,UAC1EC,EAAoBC,aAAaC,QAAQjB,GAC7C,OAA0B,OAAtBe,EACOV,EAAaU,IAGpBd,GAAgBe,aAAaE,QAAQlB,EAAKY,EAAWX,IAC9CA,GAGf,MAAOS,GAIH,OAAOT,MAEXkB,EAAQT,EAAG,GAAIU,EAAWV,EAAG,GAC7BW,EAAMC,uBAAY,SAAUC,GAC5B,IACI,IAAIC,EAAgC,oBAAdD,EAA2BA,EAAUJ,GAASI,EACpE,GAAwB,qBAAbC,EACP,OACJ,IAAIjB,OAAQ,EAIAA,EAHRL,EACIA,EAAQI,IACgB,kBAAbkB,EACCA,EAEAhB,KAAKM,UAAUU,GACtBtB,EAAQU,WACLV,EAAQU,WAAWY,GAEnBhB,KAAKM,UAAUU,GAEnBhB,KAAKM,UAAUU,GAC3BR,aAAaE,QAAQlB,EAAKO,GAC1Ba,EAASf,EAAaE,IAE1B,MAAOG,OAIR,CAACV,EAAKoB,IACLK,EAASH,uBAAY,WACrB,IACIN,aAAaU,WAAW1B,GACxBoB,OAASO,GAEb,MAAOjB,OAIR,CAACV,EAAKoB,IACT,MAAO,CAACD,EAAOE,EAAKI,K,iMCrDlBG,EAAMC,gBAAK,kBAAM,kCAEjBC,EAAgBC,YAAiB,CAACC,EAAG,MA+B3C,IAQMC,EAAkBC,IAAMC,MArC9B,YAAiE,IAAnCC,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,UAC5CC,EAAaT,IACZU,EAAKC,cAALD,EAEP,OACE,yBAAKE,UAAU,eAAeC,QAAS,kBAAMP,EAAWE,KACrDD,EAASO,aAAeN,GACvB,yBACEI,UAAWG,IAAW,YAAa,CACjCC,OAAQT,EAASU,eAGnB,kBAAC,IAAD,CAAYC,KAAM,MAGtB,yBACEN,UAAWG,IAAW,4BACbP,GAA6B,MAAfC,IAEvBU,MAAOC,YAAWZ,IAEF,MAAfC,EACGW,YAAWZ,EAAUa,MAAM,EAAG,IAC9BX,EAAEU,YAAWZ,SAMM,SAACc,EAAWC,GACzC,QAAKC,IAAMF,EAAUf,SAAUgB,EAAUhB,aAuB3C,IAAMkB,EAAerB,IAAMC,MAd3B,WAA6B,IACpBK,EAAKC,cAALD,EAEP,OACE,kBAAC,IAAMgB,SAAP,KACE,wBAAId,UAAU,QACXF,EAAE,qCADL,IAC4C,IAC1C,kBAAC,IAAD,CAAMiB,GAAG,SAASC,MAAO,CAACC,MAAO,YAC9BnB,EAAE,aADL,UA4JON,cAAMC,MAnJrB,YAAiE,IAAjDyB,EAAgD,EAAhDA,KAAMC,EAA0C,EAA1CA,kBAAmBC,EAAuB,EAAvBA,qBAChCtB,EAAKC,cAALD,EADuD,EAE9BzC,YAAgB,WAAY,CAC1D6C,WAAY,YACZG,aAAa,IAJ+C,mBAEvDV,EAFuD,KAE7C0B,EAF6C,KAOxDC,EAAkB1C,uBACtB,SAACgB,GACCyB,EACEE,YAAQ5B,GAAU,SAAC6B,GACjBA,EAAcnB,aAAeV,EAASU,YACtCmB,EAActB,WAAaN,QAIjC,CAACD,EAAU0B,IAGPI,EAAkB7C,uBACtB,SAAC8C,EAAYC,GACX,GAA4B,cAAxBhC,EAASO,WAA4B,CACvC,IAAM0B,EAAaC,YACjBX,EAAKQ,GACL,QACA/B,EAASO,YAEL4B,EAAaD,YACjBX,EAAKS,GACL,QACAhC,EAASO,YAEX,OAAOP,EAASU,YACZuB,EAAaE,EACbA,EAAaF,EAEjB,OAAOjC,EAASU,YACZqB,EAAWK,cAAcJ,GACzBA,EAAWI,cAAcL,KAGjC,CAAC/B,EAAUuB,IAzCiD,EA4CzCc,YAAS,GAAG,iBAAO,CACtCC,UAAW,0BACXC,QAAS,EACTC,OAAQA,IAAOC,WA/C6C,mBA4CvDC,EA5CuD,MAkD9D1D,EAlD8D,MAkD1D,CAACsD,UAAW,yBAA0BC,QAAS,IAEnD,IAAMI,EAAeC,mBACfC,EAAYC,uBAAaH,GAE/B,OACE,kBAAC,IAAMxB,SAAP,KACE,kBAAC,IAAS4B,IAAV,CAAc1C,UAAU,YAAYgB,MAAOqB,EAAM,IAC/C,kBAACxB,EAAD,OAGF,kBAAC,IAAS6B,IAAV,CAAc1C,UAAU,QAAQgB,MAAOqB,EAAM,IAC3C,yBAAKrC,UAAU,eACb,yBACEA,UAAU,eACVC,QAAS,kBAAMqB,EAAgB,eAE/B,6BAAMxB,EAAE,aACiB,cAAxBH,EAASO,YACR,yBACEF,UAAWG,IAAW,YAAa,CACjCC,QAAST,EAASU,eAGpB,kBAAC,IAAD,CAAYC,KAAM,OAKvBqC,IAAmBC,KAAI,SAAChD,GAAD,OACtB,kBAACL,EAAD,eACEjC,IAAKsC,GACD,CAACA,YAAWD,YAFlB,CAGED,WAAY,WACV4B,EAAgB1B,WAMvBiD,OAAOC,KAAK5B,GACV6B,QACC,SAACC,GAAD,YACgB,OAAdA,IAAA,UAAsB9B,EAAK8B,GAAWC,aAAtC,aAAsB,EAAuBC,cAEhDC,MAAK,SAACC,EAAGC,GAAJ,OAAU5B,EAAgB2B,EAAGC,MAClC5C,MAAM,EAAG+B,EAAYK,OAAOC,KAAK5B,GAAMoC,OAAS,EAAI,IACpDV,KAAI,SAACI,GACJ,OACE,kBAAC9D,EAAD,eACE5B,IAAK0F,EACL9B,KAAMA,EAAK8B,IACP,CAACA,YAAW7B,oBAAmBC,8BAKzCoB,GACA,0BAAMxC,UAAU,eAAeuD,IAAKjB,IAGtC,kBAACpD,EAAD,eACE5B,IAAK,KACL4D,KAAMA,EAAI,GACV8B,UAAW,MACP,CAAC7B,oBAAmBC,+BAOlB,SAACV,EAAWC,GAC1B,QACGC,IACCF,EAAUS,kBAAkBqC,aAC5B7C,EAAUQ,kBAAkBqC,kBAK7B5C,IACCF,EAAUS,kBAAkB6B,UAC5BrC,EAAUQ,kBAAkB6B,cAK7BpC,IACCF,EAAUQ,KAAV,GAAqB+B,MAAMC,UAC3BvC,EAAUO,KAAV,GAAqB+B,MAAMC,gB,iCCrNjC,WA+Be7D,IA7BQ,SAAUoE,GAE7B,YADoB,IAAhBA,IAA0BA,EAAc,CAAEC,QAAS,KAAMC,OAAQ,KAAMC,OAAQ,MAC5E,WACH,IAAI5F,EAAKC,mBAAS,GAAI4F,EAAS7F,EAAG,GAAI8F,EAAY9F,EAAG,GACrD+F,qBAAU,WACN,IAAIC,EAAgB,WAChBF,EAAUG,OAAOC,aAIrB,OAFAF,IACAC,OAAOE,iBAAiB,SAAUH,GAC3B,WACHC,OAAOG,oBAAoB,SAAUJ,OAG7C,IAAIK,EAAoBC,mBAAQ,WAAc,OAAOzB,OAAO0B,QAAQd,GAAaN,MAAK,SAAUC,EAAGC,GAAK,OAAQD,EAAE,IAAMC,EAAE,GAAK,GAAK,OAAW,CAC3II,IAWJ,OATaY,EAAkBG,QAAO,SAAUC,EAAKzG,GACjD,IAAI0G,EAAO1G,EAAG,GAAI2G,EAAQ3G,EAAG,GAC7B,OAAI6F,GAAUc,EACHD,EAGAD,IAEZJ,EAAkB,GAAG","file":"static/js/Table.d364d6d4.chunk.js","sourcesContent":["/* eslint-disable */\nimport { useState, useCallback } from 'react';\nimport { isClient } from './util';\nvar noop = function () { };\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isClient) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options ? (options.raw ? function (value) { return value; } : options.deserializer) : JSON.parse;\n    var _a = useState(function () {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    }), state = _a[0], setState = _a[1];\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","import {PRIMARY_STATISTICS} from '../constants';\nimport {capitalize, getStatistic} from '../utils/commonfunctions';\n\nimport {FilterIcon} from '@primer/octicons-v2-react';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport produce from 'immer';\nimport React, {useCallback, useRef, lazy} from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useIsVisible} from 'react-is-visible';\nimport {Link} from 'react-router-dom';\nimport {useTrail, animated, config} from 'react-spring';\nimport {createBreakpoint, useLocalStorage} from 'react-use';\n\nconst Row = lazy(() => import('./row' /* webpackChunkName: \"Row\" */));\n\nconst useBreakpoint = createBreakpoint({S: 768});\n\nfunction PureStateHeaderCell({handleSort, sortData, statistic}) {\n  const breakpoint = useBreakpoint();\n  const {t} = useTranslation();\n\n  return (\n    <div className=\"cell heading\" onClick={() => handleSort(statistic)}>\n      {sortData.sortColumn === statistic && (\n        <div\n          className={classnames('sort-icon', {\n            invert: sortData.isAscending,\n          })}\n        >\n          <FilterIcon size={10} />\n        </div>\n      )}\n      <div\n        className={classnames({\n          [`is-${statistic}`]: breakpoint === 'S',\n        })}\n        title={capitalize(statistic)}\n      >\n        {breakpoint === 'S'\n          ? capitalize(statistic.slice(0, 1))\n          : t(capitalize(statistic))}\n      </div>\n    </div>\n  );\n}\n\nconst isStateHeaderCellEqual = (prevProps, currProps) => {\n  if (!equal(prevProps.sortData, currProps.sortData)) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\nconst StateHeaderCell = React.memo(PureStateHeaderCell, isStateHeaderCellEqual);\n\nfunction PureFineprintTop() {\n  const {t} = useTranslation();\n\n  return (\n    <React.Fragment>\n      <h5 className=\"text\">\n        {t('Compiled from State Govt. numbers')},{' '}\n        <Link to=\"/about\" style={{color: '#6c757d'}}>\n          {t('know more')}!\n        </Link>\n      </h5>\n    </React.Fragment>\n  );\n}\nconst FineprintTop = React.memo(PureFineprintTop);\n\nfunction Table({data, regionHighlighted, setRegionHighlighted}) {\n  const {t} = useTranslation();\n  const [sortData, setSortData] = useLocalStorage('sortData', {\n    sortColumn: 'confirmed',\n    isAscending: false,\n  });\n\n  const handleSortClick = useCallback(\n    (statistic) => {\n      setSortData(\n        produce(sortData, (draftSortData) => {\n          draftSortData.isAscending = !sortData.isAscending;\n          draftSortData.sortColumn = statistic;\n        })\n      );\n    },\n    [sortData, setSortData]\n  );\n\n  const sortingFunction = useCallback(\n    (stateCodeA, stateCodeB) => {\n      if (sortData.sortColumn !== 'stateName') {\n        const statisticA = getStatistic(\n          data[stateCodeA],\n          'total',\n          sortData.sortColumn\n        );\n        const statisticB = getStatistic(\n          data[stateCodeB],\n          'total',\n          sortData.sortColumn\n        );\n        return sortData.isAscending\n          ? statisticA - statisticB\n          : statisticB - statisticA;\n      } else {\n        return sortData.isAscending\n          ? stateCodeA.localeCompare(stateCodeB)\n          : stateCodeB.localeCompare(stateCodeA);\n      }\n    },\n    [sortData, data]\n  );\n\n  const [trail, set] = useTrail(2, () => ({\n    transform: 'translate3d(0, 10px, 0)',\n    opacity: 0,\n    config: config.wobbly,\n  }));\n\n  set({transform: 'translate3d(0, 0px, 0)', opacity: 1});\n\n  const tableElement = useRef();\n  const isVisible = useIsVisible(tableElement);\n\n  return (\n    <React.Fragment>\n      <animated.div className=\"fineprint\" style={trail[0]}>\n        <FineprintTop />\n      </animated.div>\n\n      <animated.div className=\"table\" style={trail[1]}>\n        <div className=\"row heading\">\n          <div\n            className=\"cell heading\"\n            onClick={() => handleSortClick('stateName')}\n          >\n            <div>{t('State/UT')}</div>\n            {sortData.sortColumn === 'stateName' && (\n              <div\n                className={classnames('sort-icon', {\n                  invert: !sortData.isAscending,\n                })}\n              >\n                <FilterIcon size={10} />\n              </div>\n            )}\n          </div>\n\n          {PRIMARY_STATISTICS.map((statistic) => (\n            <StateHeaderCell\n              key={statistic}\n              {...{statistic, sortData}}\n              handleSort={() => {\n                handleSortClick(statistic);\n              }}\n            />\n          ))}\n        </div>\n\n        {Object.keys(data)\n          .filter(\n            (stateCode) =>\n              stateCode !== 'TT' && data[stateCode].total?.confirmed\n          )\n          .sort((a, b) => sortingFunction(a, b))\n          .slice(0, isVisible ? Object.keys(data).length - 1 : 10)\n          .map((stateCode) => {\n            return (\n              <Row\n                key={stateCode}\n                data={data[stateCode]}\n                {...{stateCode, regionHighlighted, setRegionHighlighted}}\n              />\n            );\n          })}\n\n        {!isVisible && (\n          <span className=\"intersection\" ref={tableElement}></span>\n        )}\n\n        <Row\n          key={'TT'}\n          data={data['TT']}\n          stateCode={'TT'}\n          {...{regionHighlighted, setRegionHighlighted}}\n        />\n      </animated.div>\n    </React.Fragment>\n  );\n}\n\nconst isEqual = (prevProps, currProps) => {\n  if (\n    !equal(\n      prevProps.regionHighlighted.districtName,\n      currProps.regionHighlighted.districtName\n    )\n  ) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.regionHighlighted.stateCode,\n      currProps.regionHighlighted.stateCode\n    )\n  ) {\n    return false;\n  } else if (\n    !equal(\n      prevProps.data['TT'].total.confirmed,\n      currProps.data['TT'].total.confirmed\n    )\n  ) {\n    return false;\n  } else return true;\n};\n\nexport default React.memo(Table, isEqual);\n","/* eslint-disable */\nimport { useEffect, useState, useMemo } from 'react';\nvar createBreakpoint = function (breakpoints) {\n    if (breakpoints === void 0) { breakpoints = { laptopL: 1440, laptop: 1024, tablet: 768 }; }\n    return function () {\n        var _a = useState(0), screen = _a[0], setScreen = _a[1];\n        useEffect(function () {\n            var setSideScreen = function () {\n                setScreen(window.innerWidth);\n            };\n            setSideScreen();\n            window.addEventListener('resize', setSideScreen);\n            return function () {\n                window.removeEventListener('resize', setSideScreen);\n            };\n        });\n        var sortedBreakpoints = useMemo(function () { return Object.entries(breakpoints).sort(function (a, b) { return (a[1] >= b[1] ? 1 : -1); }); }, [\n            breakpoints,\n        ]);\n        var result = sortedBreakpoints.reduce(function (acc, _a) {\n            var name = _a[0], width = _a[1];\n            if (screen >= width) {\n                return name;\n            }\n            else {\n                return acc;\n            }\n        }, sortedBreakpoints[0][0]);\n        return result;\n    };\n};\nexport default createBreakpoint;\n"],"sourceRoot":""}