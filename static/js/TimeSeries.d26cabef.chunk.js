(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[21],{130:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(62),c=n(132),r=n(6),i=function(t){var e=Object(r.useState)(null),n=Object(a.a)(e,2),i=n[0],o=n[1];return Object(r.useEffect)((function(){var e=t.current,n=new c.a((function(t,e){t.forEach((function(t,e){o(t.contentRect)}))}));return n.observe(e),function(){n.unobserve(e)}}),[t]),i}},278:function(t,e,n){"use strict";n.r(e);var a=n(62),c=n(16),r=n(130),i=n(23),o=n(71),s=n.n(o),l=n(210),u=n(211),f=n(209),j=n(94),b=n(149),d=n(291),m=n(133),O=n(150),h=n(303),v=n(268),x=n(297),p=n(276),y=(n(101),n(44)),g=n(47),E=n(75),k=n.n(E),M=n(6),w=n.n(M),N=n(308);e.default=w.a.memo((function(t){var e=t.timeseries,n=t.dates,o=t.chartType,E=t.isUniform,k=t.isLog,A=Object(N.a)().t,T=Object(M.useRef)([]),R=Object(M.useRef)(),C=Object(r.a)(R),L=Object(M.useState)(),S=Object(a.a)(L,2),U=S[0],Y=S[1];Object(M.useEffect)((function(){Y(n[n.length-1])}),[n]),Object(M.useEffect)((function(){var t=n.length,a=C||R.current.getBoundingClientRect(),r=a.width,s=a.height,y=15,g=25,M=r-35,w=s-25,N=Object(d.a)().clamp(!0).domain([Object(i.l)(n[0]),Object(i.l)(n[t-1])]).range([g,M]),A=r<480?4:7,L=function(t){return t.attr("class","x-axis").call(Object(j.a)(N).ticks(A).tickFormat((function(t){return Object(i.d)(t,"dd MMM")})))},S=function(t,e){t.attr("class","x-axis2").call(Object(j.a)(N).tickValues([]).tickSize(0)).select(".domain").style("transform","translateY(".concat(e(0),"px)")),e(0)!==w?t.select(".domain").attr("opacity",.4):t.select(".domain").attr("opacity",0)},U=function(t,e){return t.attr("class","y-axis").call(Object(j.b)(e).ticks(4,"0~s").tickPadding(4))},F=Object(l.a)(n,(function(t){return Object(i.j)(e[t],o,"active")})),J=Object(u.a)(n,(function(t){return Math.max(Object(i.j)(e[t],o,"confirmed"),Object(i.j)(e[t],o,"recovered"),Object(i.j)(e[t],o,"deceased"))})),P=Object(m.a)().clamp(!0).domain([F,Math.max(1,1.2*J)]).nice(4).range([w,y]),z=Object(O.a)().clamp(!0).domain([Math.max(1,F),Math.max(10,1.2*J)]).nice(4).range([w,y]);function B(){var t=Object(h.a)(this)[0],e=N.invert(t),a=(0,Object(f.a)((function(t){return Object(i.l)(t)})).left)(n,e,1),c=n[a-1],r=n[a];Y(e-Object(i.l)(c)<Object(i.l)(r)-e?c:r)}function V(){Y(n[t-1])}T.current.forEach((function(a,r){var s=Object(v.a)(a),f=s.transition().duration(c.b),j=c.w[r],d=function(t){return E&&"total"===o&&k&&"tested"!==t?z:E&&"tested"!==t?P:"total"===o&&k?Object(O.a)().clamp(!0).domain([Math.max(1,Object(l.a)(n,(function(n){return Object(i.j)(e[n],o,t)}))),Math.max(10,1.2*Object(u.a)(n,(function(n){return Object(i.j)(e[n],o,t)})))]).nice(4).range([w,y]):Object(m.a)().clamp(!0).domain([1.1*Math.min(0,Object(l.a)(n,(function(n){return Object(i.j)(e[n],o,t)}))),Math.max(1,1.2*Object(u.a)(n,(function(n){return Object(i.j)(e[n],o,t)})))]).nice(4).range([w,y])}(j),h=c.a[j];if(s.select(".x-axis").style("transform","translateY(".concat(w,"px)")).transition(f).call(L),s.select(".x-axis2").transition(f).call(S,d),s.select(".y-axis").style("transform","translateX(".concat(M,"px)")).transition(f).call(U,d),s.selectAll("circle").data(n,(function(t){return t})).join((function(t){return t.append("circle").attr("fill",h).attr("stroke",h).attr("r",2).attr("cy",w).attr("cx",(function(t){return N(Object(i.l)(t))}))})).transition(f).attr("cx",(function(t){return N(Object(i.l)(t))})).attr("cy",(function(t){return d(Object(i.j)(e[t],o,j))})),"total"===o){s.selectAll(".stem").transition(f).attr("y1",d(0)).attr("y2",d(0)).remove();var g,A=Object(x.a)().curve(p.a).x((function(t){return N(Object(i.l)(t))})).y((function(t){return d(Object(i.j)(e[t],o,j))}));s.selectAll(".trend").data(t?[n]:[]).join((function(t){return t.append("path").attr("class","trend").attr("fill","none").attr("stroke",h+"50").attr("stroke-width",4).attr("d",A).attr("stroke-dasharray",(function(){return g=this.getTotalLength()})).call((function(t){return t.attr("stroke-dashoffset",g).transition(f).attr("stroke-dashoffset",0)}))}),(function(t){return t.attr("stroke-dasharray",null).transition(f).attrTween("d",(function(t){var e=Object(v.a)(this).attr("d"),n=A(t);return Object(b.interpolatePath)(e,n)}))}))}else s.selectAll(".trend").remove(),s.selectAll(".stem").data(n,(function(t){return t})).join((function(t){return t.append("line").attr("class","stem").style("stroke",h+"99").style("stroke-width",4).attr("x1",(function(t){return N(Object(i.l)(t))})).attr("y1",w).attr("x2",(function(t){return N(Object(i.l)(t))})).attr("y2",w)})).transition(f).attr("x1",(function(t){return N(Object(i.l)(t))})).attr("y1",d(0)).attr("x2",(function(t){return N(Object(i.l)(t))})).attr("y2",(function(t){return d(Object(i.j)(e[t],o,j))}));s.selectAll("*").attr("pointer-events","none"),s.on("mousemove",B).on("touchmove",B).on("mouseout",V).on("touchend",V)}))}),[o,C,E,k,e,n]),Object(M.useEffect)((function(){T.current.forEach((function(t){Object(v.a)(t).selectAll("circle").attr("r",(function(t){return t===U?4:2}))}))}),[U]);var F=Object(M.useCallback)((function(t){if(U){var n=Object(i.j)(null===e||void 0===e?void 0:e[U],"delta",t);if("total"===o)return n;var a=Object(y.a)(Object(g.a)(Object(i.l)(U),1),{representation:"date"});return n-Object(i.j)(null===e||void 0===e?void 0:e[a],"delta",t)}}),[e,U,o]);return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"TimeSeries"},c.w.map((function(t,n){var a=F(t);return w.a.createElement("div",{key:t,className:s()("svg-parent","is-".concat(t)),ref:R},U&&w.a.createElement("div",{className:s()("stats","is-".concat(t))},w.a.createElement("h5",{className:"title"},A(Object(i.a)(t))),w.a.createElement("h5",{className:"title"},Object(i.d)(U,"dd MMMM")),w.a.createElement("div",{className:"stats-bottom"},w.a.createElement("h2",null,Object(i.f)(Object(i.j)(null===e||void 0===e?void 0:e[U],o,t))),w.a.createElement("h6",null,"".concat(a>=0?"+":"").concat(Object(i.f)(a))))),w.a.createElement("svg",{ref:function(t){T.current[n]=t},preserveAspectRatio:"xMidYMid meet"},w.a.createElement("g",{className:"x-axis"}),w.a.createElement("g",{className:"x-axis2"}),w.a.createElement("g",{className:"y-axis"})))}))))}),(function(t,e){return!!k()(e.chartType,t.chartType)&&(!!k()(e.isUniform,t.isUniform)&&(!!k()(e.isLog,t.isLog)&&(!!k()(e.stateCode,t.stateCode)&&!!k()(e.dates,t.dates))))}))}}]);
//# sourceMappingURL=TimeSeries.d26cabef.chunk.js.map