(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[18],{221:function(e,t,r){"use strict";var n=r(6),a=r.n(n),c=r(61),o=r.n(c);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,c=e.size,o=void 0===c?24:c,s=l(e,["color","size"]);return a.a.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),a.a.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),a.a.createElement("polyline",{points:"15 3 21 3 21 9"}),a.a.createElement("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))}));s.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},s.displayName="ExternalLink",t.a=s},222:function(e,t,r){"use strict";var n=r(6),a=r.n(n),c=r(61),o=r.n(c);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,c=e.size,o=void 0===c?24:c,s=l(e,["color","size"]);return a.a.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),a.a.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))}));s.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},s.displayName="Phone",t.a=s},223:function(e,t,r){"use strict";var n=r(6),a=r.n(n),c=r(61),o=r.n(c);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=Object(n.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,c=e.size,o=void 0===c?24:c,s=l(e,["color","size"]);return a.a.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s),a.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),a.a.createElement("polyline",{points:"12 16 16 12 12 8"}),a.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));s.propTypes={color:o.a.string,size:o.a.oneOfType([o.a.string,o.a.number])},s.displayName="ArrowRightCircle",t.a=s},296:function(e,t,r){"use strict";r.r(t);var n=r(62),a=r(16),c=r(23),o=r(77),i=r(6),l=r.n(i),s=r(61),u=r.n(s);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var m=Object(i.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,c=void 0===a?24:a,o=p(e,["color","size"]);return l.a.createElement("svg",f({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),l.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),l.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));m.propTypes={color:u.a.string,size:u.a.oneOfType([u.a.string,u.a.number])},m.displayName="Search";var d=m;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var b=Object(i.forwardRef)((function(e,t){var r=e.color,n=void 0===r?"currentColor":r,a=e.size,c=void 0===a?24:a,o=y(e,["color","size"]);return l.a.createElement("svg",v({ref:t,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),l.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),l.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));b.propTypes={color:u.a.string,size:u.a.oneOfType([u.a.string,u.a.number])},b.displayName="X";var h=b,O=r(223),g=r(221),j=r(222),E=r(308),w=r(74),k=r(69),x=r(134);function z(e,t,r){void 0===t&&(t=0),void 0===r&&(r=[]);var n=function(e,t){void 0===t&&(t=0);var r=Object(i.useRef)(!1),n=Object(i.useRef)(),a=Object(i.useRef)(e),c=Object(i.useCallback)((function(){return r.current}),[]),o=Object(i.useCallback)((function(){r.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout((function(){r.current=!0,a.current()}),t)}),[t]),l=Object(i.useCallback)((function(){r.current=null,n.current&&clearTimeout(n.current)}),[]);return Object(i.useEffect)((function(){a.current=e}),[e]),Object(i.useEffect)((function(){return o(),l}),[t]),[c,l,o]}(e,t),a=n[0],c=n[1],o=n[2];return Object(i.useEffect)(o,r),[a,c]}var N=["Testing Pune","Delhi Shelter","Community Kitchen in Kerala","Groceries Chennai","Senior citizen support bangalore"],S=["Mumbai","Karnataka","Chennai","Alappuzha","Ganjam"];t.default=l.a.memo((function(){var e=Object(i.useState)(""),t=Object(n.a)(e,2),s=t[0],u=t[1],f=Object(i.useState)(!1),p=Object(n.a)(f,2),m=p[0],v=p[1],y=Object(i.useState)([]),b=Object(n.a)(y,2),P=b[0],T=b[1],C=Object(i.useRef)(null),L=Object(E.a)().t,R=Object(i.useState)(null),D=Object(n.a)(R,2),B=D[0],I=D[1],M=Object(i.useState)(null),W=Object(n.a)(M,2),q=W[0],A=W[1],K=Object(i.useState)(null),_=Object(n.a)(K,2),F=_[0],G=_[1];Object(x.a)((function(){r.e(35).then(r.t.bind(null,289,7)).then((function(e){I(new e.default({initialize:!0,local:a.q,queryTokenizer:e.default.tokenizers.whitespace,datumTokenizer:e.default.tokenizers.obj.whitespace("name")})),A(new e.default({initialize:!0,limit:5,queryTokenizer:e.default.tokenizers.whitespace,datumTokenizer:e.default.tokenizers.obj.whitespace("district"),indexRemote:!0,remote:{url:"https://api.covid19india.org/state_district_wise.json",transform:function(e){var t=[];return Object.keys(e).map((function(r){var n=e[r].districtData;return Object.keys(n).map((function(e){return t.push({district:e,state:r})})),null})),t}}})),G(new e.default({initialize:!0,limit:5,queryTokenizer:e.default.tokenizers.whitespace,datumTokenizer:e.default.tokenizers.obj.whitespace("category","city","contact","descriptionandorserviceprovided","nameoftheorganisation","state"),indexRemote:!0,remote:{url:"https://api.covid19india.org/resources/resources.json",transform:function(e){return e.resources}}}))}))}),[m]);var J=Object(i.useCallback)((function(e){if(!B)return null;var t=[],r=function(e){e.slice(0,5).map((function(e,r){var n={name:e.nameoftheorganisation,type:"essentials",category:e.category,website:e.contact,description:e.descriptionandorserviceprovided,city:e.city,state:e.state,contact:e.phonenumber};return t.push(n),null})),T([].concat(t))};B.search(e,(function(e){e.map((function(e,r){var n={name:e.name,type:"state",route:e.code};return t.push(n),null}))})),q.search(e,(function(e){e.slice(0,3).map((function(e,r){var n={name:e.district,type:"district",route:a.p[e.state]};return t.push(n),null}))})),F.search(e,r,(function(t){F.search(e,r)}))}),[q,B,F]);function H(e,t){var r=Object.getOwnPropertyDescriptor(e,"value").set,n=Object.getPrototypeOf(e),a=Object.getOwnPropertyDescriptor(n,"value").set;r&&r!==a?a.call(e,t):r.call(e,t)}z((function(){s?J(s):T(Object(o.a)(P,(function(e){e.splice(0)})))}),100,[s]);var V=Object(k.e)(3,(function(){return{transform:"translate3d(0, 10px, 0)",opacity:0,config:k.b.stiff}})),X=Object(n.a)(V,2),Q=X[0];return(0,X[1])({transform:"translate3d(0, 0px, 0)",opacity:1}),l.a.createElement("div",{className:"Search"},l.a.createElement(k.a.label,{style:Q[0]},L("Search your city, resources, etc")),l.a.createElement(k.a.div,{className:"line",style:Q[1]}),l.a.createElement(k.a.div,{className:"search-input-wrapper",style:Q[2]},l.a.createElement("input",{type:"text",value:s,ref:C,onFocus:function(e){v(!0)},onBlur:function(){v(!1)},onChange:function(e){u(e.target.value)}}),l.a.createElement("span",{id:"search-placeholder",className:"search-placeholder"}),l.a.createElement("div",{className:"search-button"},l.a.createElement(d,null)),s.length>0&&l.a.createElement("div",{className:"close-button",onClick:function(){u(""),T([])}},l.a.createElement(h,null))),P.length>0&&l.a.createElement("div",{className:"results"},P.map((function(e,t){return"state"===e.type||"district"===e.type?l.a.createElement(w.b,{key:t,to:"state/".concat(e.route)},l.a.createElement("div",{className:"result"},l.a.createElement("div",{className:"result-left"},l.a.createElement("div",{className:"result-name"},"".concat(e.name),"district"===e.type&&", ".concat(a.r[e.route]))),l.a.createElement("div",{className:"result-type"},l.a.createElement("span",null,[e.route]),l.a.createElement(O.a,{size:14})))):l.a.createElement("a",{key:t,href:e.website||null,target:"_noblank",className:"essential-result"},l.a.createElement("div",{className:"result-top"},l.a.createElement("div",{className:"result-top-left"},l.a.createElement("div",{className:"result-name"},e.name),l.a.createElement("div",{className:"result-location"},e.city&&"".concat(e.city,", "),e.state)),l.a.createElement("div",{className:"result-category"},l.a.createElement("div",null,Object(c.a)(a.c[e.category])),e.website&&l.a.createElement(g.a,null))),l.a.createElement("div",{className:"result-description"},e.description),l.a.createElement("div",{className:"result-contacts"},e.contact.split("\n").map((function(e){return l.a.createElement("div",{key:e,className:"result-contact"},l.a.createElement(j.a,null),l.a.createElement("a",{href:"tel:".concat(e)},e.replace(",","")))}))))}))),m&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"expanded"},l.a.createElement("div",{className:"expanded-left"},l.a.createElement("h3",null,L("Essentials")),l.a.createElement("div",{className:"suggestions"},N.map((function(e,t){return l.a.createElement("div",{className:"suggestion",key:t},l.a.createElement("div",null,"-"),l.a.createElement("h4",{onMouseDown:function(t){t.preventDefault(),H(C.current,e),C.current.dispatchEvent(new Event("input",{bubbles:!0}))}},L(e)))})))),l.a.createElement("div",{className:"expanded-right"},l.a.createElement("h3",null,L("Locations")),l.a.createElement("div",{className:"suggestions"},S.map((function(e,t){return l.a.createElement("div",{className:"suggestion",key:t},l.a.createElement("div",null,"-"),l.a.createElement("h4",{onMouseDown:function(t){t.preventDefault(),H(C.current,e),C.current.dispatchEvent(new Event("input",{bubbles:!0}))}},L(e)))})))))))}),(function(){return!0}))}}]);
//# sourceMappingURL=Search.23fb5ae7.chunk.js.map